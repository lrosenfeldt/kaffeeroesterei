{"version":3,"sources":["js/dropdown.js","js/contactForm.js","js/indexContactForm.js"],"names":["Dropdown","button","listboxNode","buttonText","activeDescendant","getAttribute","keysSoFar","registerEvents","element","removeAttribute","classList","remove","focusedItem","innerText","defocusItem","document","getElementById","setAttribute","add","id","onFocusChange","firstItem","querySelector","focusItem","itemList","querySelectorAll","length","focusFirstItem","currentOption","allOptions","currentOptionIndex","indexOf","nextOption","keyClear","clearTimeout","setTimeout","bind","list","startIndex","endIndex","label","n","toUpperCase","key","searchIndex","i","clearKeysSoFarAfterDelay","nextMatch","findMatchInRange","event","currentItem","nextItem","findPreviousOption","preventDefault","findNextOption","hideListbox","focus","itemToFocus","findItemToFocus","target","addEventListener","checkKeyPress","showListbox","checkShow","checkClickItem","ContactForm","formNode","nameInputId","mailInputId","privacyPolicyId","messageId","subjectDropdownId","isValid","nameInput","validity","valueMissing","setCustomValidity","reportValidity","mailInput","valid","typeMismatch","messageInput","privacyPolicyCheckbox","checked","privacyPolicyLabel","labels","resetValidity","checkPrivacyPolicy","checkMessage","checkMail","checkName","subjectDropdown","subjectText","slice","formData","append","retrieveSubject","validate","addSubjectToForm","window","dropdownButton","dropdownListbox","console","warn","forms"],"mappings":";;AEAA;;AACA;;;;AAEAmG,MAAM,CAACvC,gBAAP,CAAwB,MAAxB,EAAgC,YAAM;AACpC,MAAMwC,cAAc,GAAGrF,QAAQ,CAACO,aAAT,CAAuB,mBAAvB,CAAvB;AACA,MAAM+E,eAAe,GAAGtF,QAAQ,CAACO,aAAT,CAAuB,iBAAvB,CAAxB;;AACA,MAAI8E,cAAc,IAAIC,eAAtB,EAAuC;ADNzC,ACOI,QAAIrG,iBAAJ,CAAaoG,cAAb,EAA6BC,eAA7B,EAA8C,eAA9C;AACD,GAFD,CDJIpC,KCMG;ADLP,ACMEqC,IAAAA,OAAO,CAACC,IAAR,CAAa,MDNHrC,QAAZ,EAAsB,GCMpB;ADNoB,ACOrB;;ADNC,ACQF,MAAMA,GDRCA,KCQO,GDRZ,ACQenD,GDRCmD,KCQO,CAACsC,EDRxB,GCQe,CAAe,cAAf,CAAjB;ADPE,SAAKrC,WAAL,GAAmB,MAAnB;AACA,ACOF,MAAID,GDPGE,KCOP,EAAc,IDPZ,GAAmB,MAAnB;AACA,ACOA,QAAIH,CDPCI,eAAL,GAAuB,CCOvB,CAAgBH,QAAhB,MDPA;AACA,ACOD,SDPMI,SAAL,GAAiB,MAAjB;AACA,ACOH,CAbD,QDMSC,iBAAL,GAAyB,kBAAzB;AACA,SAAKC,OAAL,GAAe,IAAf;AACA,ADXJ,SCWSjE,cAAL;AACD,IDXGP;AACJ,oBAAYC,MAAZ,EAAoBC,WAApB,EAAiCC,UAAjC,EAA6C;AAAA;;AAC3C,SAAKF,MAAL,GAAcA,MAAd,QCWU;AACV,ADXA,SAAKC,CCWCuE,SAAS,CDXf,ECWkB,CDXCvE,ICWIgE,ODXvB,CCWkB,CAAc,KAAKC,WAAnB,CAAlB;ADVA,SAAK/D,gBAAL,GAAwB,KAAKF,WAAL,CAAiBG,YAAjB,CACtB,uBADsB,CAAxB;ACWA,ADRA,SAAKC,CCQDmE,QDRJ,CCQa,CAACC,CDRG,EAAjB,KCQI,CAAmBC,YAAvB,EAAqC;AACnCF,ADRF,QCQEA,CDRGtE,QCQM,CAACyE,CDRZ,GAAkBzE,UAAlB,GCQE,CAA4B,4BAA5B;AACAsE,ADRF,QCQEA,CDRGlE,QCQM,CAACG,KDRZ,ICQE,CAAoBQ,GAApB,CAAwB,4BAAxB;AACAuD,ADRH,IAED,ICMIA,SAAS,CAACI,cAAV;AACA,ADNJ,aCMSL,OAAL,GAAe,KAAf;AACA;AACD;;AACDC,MAAAA,SAAS,CAACG,iBAAV,CAA4B,EAA5B;AACD,gCDTWpE,SAAS;AACnB,UAAIA,OAAJ,EAAa;AACXA,QAAAA,OAAO,CAACC,eAAR,CAAwB,eAAxB;AACAD,QAAAA,OAAO,CAACE,SAAR,CAAkBC,MCQV,ADRR,CAAyB,8BAAzB;ACSF,ADRC,UCQKmE,SAAS,GAAG,KAAKZ,QAAL,CAAc,KAAKE,WAAnB,CAAlB;ADPD;ACQC,UAAI,CAACU,SAAS,CAACJ,QAAV,CAAmBK,KAAxB,EAA+B;AAC7B,YAAID,SAAS,CAACJ,QAAV,CAAmBC,YAAvB,EAAqC;AACnCG,UAAAA,SAAS,CAACF,cDRFhE,GCQR,CAA4B,SDRP,yBCQrB;AACD,ADRH,SCME,EDNGX,ICQI,EDRT,CAAYY,CCQCiE,QDRb,CCQsB,CAACJ,QAAV,CAAmBM,EDRL,KAAK7E,KCQvB,EAAqC,GDR9C,cAA8CS,WAAW,CAACC,SAA1D;ACSIiE,ADRL,UCQKA,SAAS,CAACF,iBAAV,CAA4B,qCAA5B;AACD;;AACDE,QAAAA,SAAS,CAACpE,SAAV,CAAoBQ,EDRdV,CCQN,CAAwB,ODRT,qBCQf;AACAsE,ADRF,QCQEA,GDRGhE,MCQM,CAAC+D,IDRZ,CAAiB9D,QAAQ,CCQvB,ADRwBC,cAAT,CAAwB,KAAKZ,gBAA7B,CAAjB;ACSE,ADRFI,MAAAA,OCQOgE,ADRA,CAACvD,MCQN,GAAe,GDRjB,CAAqB,CCQnB,cDRF,EAAsC,MAAtC;ACSE,ADRFT,MAAAA,OAAO,CAACE,SAAR,CAAkBQ,GAAlB,CAAsB,8BAAtB;ACSC,ADRD,WAAKhB,WAAL,CAAiBe,YAAjB,CAA8B,uBAA9B,EAAuDT,OAAO,CAACW,EAA/D;AACA,WAAKf,gBAAL,GAAwBI,OAAO,CAACW,EAAhC;ACQA2D,ADPA,MCOAA,KDPK1D,ICOI,CAACwD,QDPV,CAAmBpE,OAAnB,CCOA,CAA4B,EAA5B;AACD,ADPA;;;mCCSc,EDPE;ACQf,ADPA,UCOMyE,ADPA5D,SAAS,GCOG,ADPA,GCOG,EDPEnB,GCOGgE,QAAL,ADPH,CCOiB,ADPA5C,KCOKgD,QDPtB,CCOG,ADP4B,CCOjD,gBDPkB,CAAlB;;ACQA,ADNA,UCMIW,ADNA5D,SAAJ,EAAe,CCMC,CAACqD,QAAb,CAAsBC,YAA1B,EAAwC;AACtCM,ADNA,QCMAA,KDNK1D,OCMO,CAACqD,CDNb,CAAevD,SAAf,MCMA,CACE,4CADF;AAGA4D,ADRD,QCQCA,YAAY,CAACvE,SAAb,CAAuBQ,GAAvB,CAA2B,4BAA3B;AACA+D,ADRH,QCQGA,YAAY,CAACJ,cAAb;AACA,aAAKL,OAAL,GAAe,KAAf;AACA;AACD,oCDTa;AACd,UAAMhD,QAAQ,GAAG,KAAKtB,WAAL,CAAiBuB,gBAAjB,CAAkC,iBAAlC,CAAjB;ACSAwD,MAAAA,YAAY,CAACL,iBAAb,CAA+B,EAA/B;AACD,ADRC,UAAIpD,QAAJ,EAAc;AACZ,aAAKD,SAAL,CAAeC,QAAQ,CAACA,QAAQ,CAACE,MAAT,GAAkB,CAAnB,CAAvB;AACD;AACF,yCCOoB;AACnB,UAAMwD,qBAAqB,GAAG,KAAKhB,QAAL,CAAc,KAAKG,eAAnB,CAA9B;;AACA,UAAI,CAACa,qBAAqB,CAACC,ADPhB,OCOX,EAAoC;AAClCD,ADPF,QCOEA,EDPE,CAAC,KAAK9E,aCOa,CAACwE,EDPxB,EAA4B,aCO1B,CACE,2CADF;AAGA,ADTA,YCSMQ,CDTDzD,cAAL,GCSwB,GAAGuD,qBAAqB,CAACG,MAAtB,CAA6B,CAA7B,CAA3B;AACAD,ADTD,QCSCA,kBAAkB,CAAC1E,SAAnB,CAA6BQ,GAA7B,CAAiC,gCAAjC;AACAgE,ADTH,QCSGA,qBAAqB,CAACL,cAAtB;AACA,aAAKL,OAAL,GAAe,KAAf;AACA;AACD,uCDVgB5C,eAAe;AAChC,UAAMC,UAAU,sBACX,KAAK3B,WAAL,CAAiBuB,gBAAjB,CAAkC,iBAAlC,CADW,CAAhB;ACUAyD,MAAAA,qBAAqB,CAACN,iBAAtB,CAAwC,EAAxC;AACD,ADRC,UAAM9C,kBAAkB,GAAGD,UAAU,CAACE,OAAX,CAAmBH,aAAnB,CAA3B;AACA,UAAII,UAAU,GAAG,IAAjB;;AAEA,UAAIF,kBAAkB,GAAG,CAAzB,EAA4B,ECOd;AACd,ADPEE,QAAAA,ECOI8C,QDPM,CCOG,EDPAjD,CCOG,KAAKqC,IDPE,CAACpC,GCOR,CAAc,KAAKsC,SDPO,ECO1B,CAAlB,ADP+C,CAAtB,CAAvB;ACQFU,ADPC,MCODA,SAAS,CAACF,iBAAV,CAA4B,EAA5B;AACA,WAAKJ,OAAL,GAAe,IAAf;AACD,ADPC,aAAOxC,UAAP;AACD;;6BCQQiB,OAAO;AACd,WAAKqC,aAAL,WDPa1D,eAAe;ACQ5B,ADPA,UAAMC,CCOD0D,SDPW,SCOhB,aDNK,KAAKrF,WAAL,CAAiBuB,gBAAjB,CAAkC,iBAAlC,CADW,CAAhB;ACQA,WAAK+D,YAAL;AACA,ADNA,UAAM1D,CCMD2D,SAAL,QDNwB,GAAG5D,UAAU,CAACE,OAAX,CAAmBH,aAAnB,CAA3B;ACOA,ADNA,UAAII,CCMC0D,SAAL,ADNc,GAAG,IAAjB;;ACOA,ADNA,UCMI,ADNA5D,KCMK0C,OAAT,EAAkB,IDNI,GAAG,CAAC,CAAtB,IAA2B1C,kBAAkB,GAAGD,UAAU,CAACH,MAAX,GAAoB,CAAxE,EAA2E;ACOzE,ADNAM,QAAAA,UAAU,GAAGH,UAAU,CAACC,kBAAkB,GAAG,CAAtB,CAAvB;ACOD,ADNA;;ACODmB,ADLA,MCKAA,KAAK,CAACI,CDLCrB,UAAP,GCKA;AACD,ADLA;;;sCCOiB,SDLS;ACMzB,ADLA,UCKM2D,ADLF,KAAK1D,QAAT,ECKqB,ADLF,GCKKlB,QAAQ,CAACC,cAAT,CAAwB,KAAKuD,iBAA7B,CAAxB,CADgB,CAEhB;ADLErC,QAAAA,YAAY,CAAC,KAAKD,QAAN,CAAZ;ACMF,ADLE,UCKI2D,GDLC3D,QCKU,ADLf,GCKkB0D,ADLF,IAAhB,WCKiC,CAAC9E,SAAhB,CAA0BgF,KAA1B,CAAgC,EAAhC,CAApB;ADJC;ACKD,UAAID,WAAW,CAAClE,MAAZ,KAAuB,CAA3B,EAA8B;AAC5B,ADLF,WAAKO,ICKI,IDLT,GAAgBE,OCKd,GDLwB,CACxB,YAAY;ACKb,ADJG,aAAK7B,SAAL,GAAiB,EAAjB;AACA,aAAK2B,QAAL,GAAgB,IAAhB;ACIJ,ADHG,OAHD,CAGEG,IAHF,CCMKwD,ADHE,IAHP,CADwB,EAKxB,GALwB,CCO1B,ADPA;ACQD,ADDA;;;qCCGgB3C,ADDAZ,MAAMC,CCCC,WDDWC,UAAU;ACCrB,ADAtB,UCCQuD,ADDJtD,KAAK,GCAa,ADAV,EAAZ,CCCqBS,KADC,CACd6C,QADc;AAEtBA,MAAAA,QAAQ,CAACC,MAAT,CAAgB,SAAhB,EAA2B,KAAKC,eAAL,EAA3B;AACD,ADFC,WAAK,IAAIvD,CAAC,GAAGH,UAAb,EAAyBG,CAAC,GAAGF,QAA7B,EAAuCE,CAAC,EAAxC,EAA4C;AAC1CD,QAAAA,KAAK,GAAGH,IAAI,CAACI,CAAD,CAAJ,CAAQ5B,SAAhB;;AACA,YACE2B,KAAK,IACLA,KAAK,CAACE,UCAK,CDAX,GAAoBX,OAApB,CAA4B,KAAKzB,SAAL,CAAeoC,WAAf,EAA5B,MAA8D,CAFhE,EAGE;ACAJ,ADCI,WCDCwB,MDCM7B,ECDX,CAAcuB,CDCC,CAACnB,CAAD,CAAX,YCDJ,CAA+B,QAA/B,EAAyC,KAAKwD,QAAL,CAAc7D,IAAd,CAAmB,IAAnB,CAAzC;AACA,ADCG,WCDE8B,QAAL,CAAcN,gBAAd,CACE,UADF,EAEE,KAAKsC,gBAAL,CAAsB9D,IAAtB,CAA2B,IAA3B,CAFF;AAID,ADFE;;AACD,aAAO,IAAP;AACD;;;eCGY6B,qBDDGtB,KAAK;AACnB,UAAMnB,QAAQ,GAAG,KAAKtB,WAAL,CAAiBuB,gBAAjB,CAAkC,iBAAlC,CAAjB;;AACA,UAAIkB,GAAG,CAACjB,MAAJ,KAAe,CAAnB,EAAsB;AACpB;AACD;;AACD,UAAIkB,WAAW,GAAG,CAAlB;;AACA,UAAI,CAAC,KAAKtC,SAAV,EAAqB;AACnB,aAAK,IAAIuC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGrB,QAAQ,CAACE,MAA7B,EAAqCmB,CAAC,EAAtC,EAA0C;AACxC,cAAIrB,QAAQ,CAACqB,CAAD,CAAR,CAAYxC,YAAZ,CAAyB,IAAzB,MAAmC,KAAKD,gBAA5C,EAA8D;AAC5DwC,YAAAA,WAAW,GAAGC,CAAd;AACD;AACF;AACF;;AACD,WAAKvC,SAAL,IAAkBqC,GAAlB;AACA,WAAKG,wBAAL;AAEA,UAAIC,SAAS,GAAG,KAAKC,gBAAL,CACdxB,QADc,EAEdoB,WAAW,GAAG,CAFA,EAGdpB,QAAQ,CAACE,MAHK,CAAhB;;AAKA,UAAI,CAACqB,SAAL,EAAgB;AACdA,QAAAA,SAAS,GAAG,KAAKC,gBAAL,CAAsBxB,QAAtB,EAAgC,CAAhC,EAAmCoB,WAAnC,CAAZ;AACD;;AACD,aAAOG,SAAP;AACD;;;kCAEaE,OAAO;AAAA,UACXN,GADW,GACHM,KADG,CACXN,GADW;AAEnB,UAAMd,UAAU,GAAG,KAAK3B,WAAL,CAAiBuB,gBAAjB,CAAkC,iBAAlC,CAAnB;AACA,UAAMyB,WAAW,GACfnC,QAAQ,CAACC,cAAT,CAAwB,KAAKZ,gBAA7B,KAAkDyB,UAAU,CAAC,CAAD,CAD9D;AAEA,UAAIsB,QAAQ,GAAGD,WAAf;;AAEA,UAAI,CAACA,WAAL,EAAkB;AAChB;AACD;;AAED,cAAQP,GAAR;AACE,aAAK,SAAL;AACE,cAAI,CAAC,KAAKvC,gBAAV,EAA4B;AAC1B,iBAAKmB,SAAL,CAAe2B,WAAf;AACA;AACD;;AAEDC,UAAAA,QAAQ,GAAG,KAAKC,kBAAL,CAAwBF,WAAxB,CAAX;;AAEA,cAAIC,QAAJ,EAAc;AACZ,iBAAK5B,SAAL,CAAe4B,QAAf;AACAF,YAAAA,KAAK,CAACI,cAAN;AACD;;AACD;;AACF,aAAK,WAAL;AACE,cAAI,CAAC,KAAKjD,gBAAV,EAA4B;AAC1B,iBAAKmB,SAAL,CAAe2B,WAAf;AACA;AACD;;AAEDC,UAAAA,QAAQ,GAAG,KAAKG,cAAL,CAAoBJ,WAApB,CAAX;;AAEA,cAAIC,QAAJ,EAAc;AACZ,iBAAK5B,SAAL,CAAe4B,QAAf;AACAF,YAAAA,KAAK,CAACI,cAAN;AACD;;AACD;;AAEF,aAAK,GAAL;AACA,aAAK,OAAL;AACA,aAAK,QAAL;AACEJ,UAAAA,KAAK,CAACI,cAAN;AACA,eAAKE,WAAL;AACA,eAAKtD,MAAL,CAAYuD,KAAZ;AACA;;AACF;AACE,cAAMC,WAAW,GAAG,KAAKC,eAAL,CAAqBf,GAArB,CAApB;;AACA,cAAIc,WAAJ,EAAiB;AACf,iBAAKlC,SAAL,CAAekC,WAAf;AACD;;AAvCL;AAyCD;;;mCAEcR,OAAO;AACpB,UAAIA,KAAK,CAACU,MAAN,CAAatD,YAAb,CAA0B,MAA1B,MAAsC,QAA1C,EAAoD;AAClD;AACD;;AACD,WAAKkB,SAAL,CAAe0B,KAAK,CAACU,MAArB;AACD;;;4CAEuB;AACtB,WAAKzD,WAAL,CAAiB0D,gBAAjB,CAAkC,SAAlC,EAA6C,KAAKC,aAAL,CAAmBzB,IAAnB,CAAwB,IAAxB,CAA7C;AACD;;;kCAEa;AACZ,WAAKlC,WAAL,CAAiBQ,SAAjB,CAA2BC,MAA3B,CAAkC,wBAAlC;AACA,WAAKV,MAAL,CAAYgB,YAAZ,CAAyB,eAAzB,EAA0C,MAA1C;AACA,WAAKhB,MAAL,CAAYS,SAAZ,CAAsBQ,GAAtB,CAA0B,2BAA1B;AACA,WAAKhB,WAAL,CAAiBsD,KAAjB;AACD;;;kCAEa;AACZ,WAAKtD,WAAL,CAAiBQ,SAAjB,CAA2BQ,GAA3B,CAA+B,wBAA/B;AACA,WAAKjB,MAAL,CAAYS,SAAZ,CAAsBC,MAAtB,CAA6B,2BAA7B;AACA,WAAKV,MAAL,CAAYgB,YAAZ,CAAyB,eAAzB,EAA0C,MAA1C;AACA,WAAKhB,MAAL,CAAYuD,KAAZ;AACD;;;8BAESP,OAAO;AAAA,UACPN,GADO,GACCM,KADD,CACPN,GADO,EAGf;;AACA,cAAQA,GAAR;AACE,aAAK,SAAL;AACA,aAAK,WAAL;AACEM,UAAAA,KAAK,CAACI,cAAN;AACA,eAAKS,WAAL;AACA,eAAKD,aAAL,CAAmBZ,KAAnB;AACA;AANJ;AAQD;;;qCAEgB;AACf,WAAKhD,MAAL,CAAY2D,gBAAZ,CAA6B,OAA7B,EAAsC,KAAKE,WAAL,CAAiB1B,IAAjB,CAAsB,IAAtB,CAAtC;AACA,WAAKnC,MAAL,CAAY2D,gBAAZ,CAA6B,OAA7B,EAAsC,KAAKG,SAAL,CAAe3B,IAAf,CAAoB,IAApB,CAAtC;AACA,WAAKlC,WAAL,CAAiB0D,gBAAjB,CAAkC,MAAlC,EAA0C,KAAKL,WAAL,CAAiBnB,IAAjB,CAAsB,IAAtB,CAA1C;AACA,WAAKlC,WAAL,CAAiB0D,gBAAjB,CAAkC,SAAlC,EAA6C,KAAKC,aAAL,CAAmBzB,IAAnB,CAAwB,IAAxB,CAA7C;AACA,WAAKlC,WAAL,CAAiB0D,gBAAjB,CAAkC,OAAlC,EAA2C,KAAKI,cAAL,CAAoB5B,IAApB,CAAyB,IAAzB,CAA3C;AACD;;;;;;eAGYpC","file":"indexContactForm.d05973ce.js","sourceRoot":"../src","sourcesContent":["/* eslint-disable no-useless-return */\nclass Dropdown {\n  constructor(button, listboxNode, buttonText) {\n    this.button = button;\n    this.listboxNode = listboxNode;\n    this.activeDescendant = this.listboxNode.getAttribute(\n      \"aria-activedescendant\"\n    );\n    this.keysSoFar = \"\";\n    this.buttonText = buttonText;\n    this.registerEvents();\n  }\n\n  // methods\n  // eslint-disable-next-line class-methods-use-this\n  defocusItem(element) {\n    if (element) {\n      element.removeAttribute(\"aria-selected\");\n      element.classList.remove(\"dropdown__list-item--focused\");\n    }\n  }\n\n  onFocusChange(focusedItem) {\n    this.button.innerText = `${this.buttonText} ${focusedItem.innerText}`;\n  }\n\n  focusItem(element) {\n    this.defocusItem(document.getElementById(this.activeDescendant));\n    element.setAttribute(\"aria-selected\", \"true\");\n    element.classList.add(\"dropdown__list-item--focused\");\n    this.listboxNode.setAttribute(\"aria-activedescendant\", element.id);\n    this.activeDescendant = element.id;\n    this.onFocusChange(element);\n  }\n\n  focusFirstItem() {\n    const firstItem = this.listboxNode.querySelector('[role=\"option\"]');\n\n    if (firstItem) {\n      this.focusItem(firstItem);\n    }\n  }\n\n  focusLastItem() {\n    const itemList = this.listboxNode.querySelectorAll('[role=\"option\"]');\n\n    if (itemList) {\n      this.focusItem(itemList[itemList.length - 1]);\n    }\n  }\n\n  setupFocus() {\n    if (!this.activeDescendant) {\n      this.focusFirstItem();\n    }\n  }\n\n  findPreviousOption(currentOption) {\n    const allOptions = [\n      ...this.listboxNode.querySelectorAll('[role=\"option\"]'),\n    ];\n    const currentOptionIndex = allOptions.indexOf(currentOption);\n    let nextOption = null;\n\n    if (currentOptionIndex > 0) {\n      nextOption = allOptions[currentOptionIndex - 1];\n    }\n\n    return nextOption;\n  }\n\n  findNextOption(currentOption) {\n    const allOptions = [\n      ...this.listboxNode.querySelectorAll('[role=\"option\"]'),\n    ];\n    const currentOptionIndex = allOptions.indexOf(currentOption);\n    let nextOption = null;\n    if (currentOptionIndex > -1 && currentOptionIndex < allOptions.length - 1) {\n      nextOption = allOptions[currentOptionIndex + 1];\n    }\n\n    return nextOption;\n  }\n\n  clearKeysSoFarAfterDelay() {\n    if (this.keyClear) {\n      clearTimeout(this.keyClear);\n      this.keyClear = null;\n    }\n    this.keyClear = setTimeout(\n      function () {\n        this.keysSoFar = \"\";\n        this.keyClear = null;\n      }.bind(this),\n      500\n    );\n  }\n\n  findMatchInRange(list, startIndex, endIndex) {\n    let label = \"\";\n    for (let n = startIndex; n < endIndex; n++) {\n      label = list[n].innerText;\n      if (\n        label &&\n        label.toUpperCase().indexOf(this.keysSoFar.toUpperCase()) === 0\n      ) {\n        return list[n];\n      }\n    }\n    return null;\n  }\n\n  findItemToFocus(key) {\n    const itemList = this.listboxNode.querySelectorAll('[role=\"option\"]');\n    if (key.length !== 1) {\n      return;\n    }\n    let searchIndex = 0;\n    if (!this.keysSoFar) {\n      for (let i = 0; i < itemList.length; i++) {\n        if (itemList[i].getAttribute(\"id\") === this.activeDescendant) {\n          searchIndex = i;\n        }\n      }\n    }\n    this.keysSoFar += key;\n    this.clearKeysSoFarAfterDelay();\n\n    let nextMatch = this.findMatchInRange(\n      itemList,\n      searchIndex + 1,\n      itemList.length\n    );\n    if (!nextMatch) {\n      nextMatch = this.findMatchInRange(itemList, 0, searchIndex);\n    }\n    return nextMatch;\n  }\n\n  checkKeyPress(event) {\n    const { key } = event;\n    const allOptions = this.listboxNode.querySelectorAll('[role=\"option\"]');\n    const currentItem =\n      document.getElementById(this.activeDescendant) || allOptions[0];\n    let nextItem = currentItem;\n\n    if (!currentItem) {\n      return;\n    }\n\n    switch (key) {\n      case \"ArrowUp\":\n        if (!this.activeDescendant) {\n          this.focusItem(currentItem);\n          break;\n        }\n\n        nextItem = this.findPreviousOption(currentItem);\n\n        if (nextItem) {\n          this.focusItem(nextItem);\n          event.preventDefault();\n        }\n        break;\n      case \"ArrowDown\":\n        if (!this.activeDescendant) {\n          this.focusItem(currentItem);\n          break;\n        }\n\n        nextItem = this.findNextOption(currentItem);\n\n        if (nextItem) {\n          this.focusItem(nextItem);\n          event.preventDefault();\n        }\n        break;\n\n      case \" \":\n      case \"Enter\":\n      case \"Escape\":\n        event.preventDefault();\n        this.hideListbox();\n        this.button.focus();\n        break;\n      default:\n        const itemToFocus = this.findItemToFocus(key);\n        if (itemToFocus) {\n          this.focusItem(itemToFocus);\n        }\n    }\n  }\n\n  checkClickItem(event) {\n    if (event.target.getAttribute(\"role\") !== \"option\") {\n      return;\n    }\n    this.focusItem(event.target);\n  }\n\n  registerListboxEvents() {\n    this.listboxNode.addEventListener(\"keydown\", this.checkKeyPress.bind(this));\n  }\n\n  showListbox() {\n    this.listboxNode.classList.remove(\"dropdown__list--hidden\");\n    this.button.setAttribute(\"aria-expanded\", \"true\");\n    this.button.classList.add(\"dropdown__button--clicked\");\n    this.listboxNode.focus();\n  }\n\n  hideListbox() {\n    this.listboxNode.classList.add(\"dropdown__list--hidden\");\n    this.button.classList.remove(\"dropdown__button--clicked\");\n    this.button.setAttribute(\"aria-expanded\", \"true\");\n    this.button.focus();\n  }\n\n  checkShow(event) {\n    const { key } = event;\n\n    // eslint-disable-next-line default-case\n    switch (key) {\n      case \"ArrowUp\":\n      case \"ArrowDown\":\n        event.preventDefault();\n        this.showListbox();\n        this.checkKeyPress(event);\n        break;\n    }\n  }\n\n  registerEvents() {\n    this.button.addEventListener(\"click\", this.showListbox.bind(this));\n    this.button.addEventListener(\"keyup\", this.checkShow.bind(this));\n    this.listboxNode.addEventListener(\"blur\", this.hideListbox.bind(this));\n    this.listboxNode.addEventListener(\"keydown\", this.checkKeyPress.bind(this));\n    this.listboxNode.addEventListener(\"click\", this.checkClickItem.bind(this));\n  }\n}\n\nexport default Dropdown;\n","/* eslint-disable no-useless-return */\n\nclass ContactForm {\n  constructor(formNode) {\n    this.formNode = formNode;\n    this.nameInputId = \"name\";\n    this.mailInputId = \"mail\";\n    this.privacyPolicyId = \"privacy-policy\";\n    this.messageId = \"text\";\n    this.subjectDropdownId = \"subject-dropdown\";\n    this.isValid = true;\n    this.registerEvents();\n  }\n\n  checkName() {\n    const nameInput = this.formNode[this.nameInputId];\n    if (nameInput.validity.valueMissing) {\n      nameInput.setCustomValidity(\"Bitte gib deinen Namen an.\");\n      nameInput.classList.add(\"contact-form__input--error\");\n      nameInput.reportValidity();\n      this.isValid = false;\n      return;\n    }\n    nameInput.setCustomValidity(\"\");\n  }\n\n  checkMail() {\n    const mailInput = this.formNode[this.mailInputId];\n    if (!mailInput.validity.valid) {\n      if (mailInput.validity.valueMissing) {\n        mailInput.setCustomValidity(\"Bitte gib deine Mail-Adresse an.\");\n      } else if (mailInput.validity.typeMismatch) {\n        mailInput.setCustomValidity(\"Das ist keine gültige Mail-Adresse.\");\n      }\n      mailInput.classList.add(\"contact-form__input--error\");\n      mailInput.reportValidity();\n      this.isValid = false;\n      return;\n    }\n    mailInput.setCustomValidity(\"\");\n  }\n\n  checkMessage() {\n    const messageInput = this.formNode[this.messageId];\n    if (messageInput.validity.valueMissing) {\n      messageInput.setCustomValidity(\n        \"Bitte sag uns, was du auf dem Herzen hast.\"\n      );\n      messageInput.classList.add(\"contact-form__input--error\");\n      messageInput.reportValidity();\n      this.isValid = false;\n      return;\n    }\n    messageInput.setCustomValidity(\"\");\n  }\n\n  checkPrivacyPolicy() {\n    const privacyPolicyCheckbox = this.formNode[this.privacyPolicyId];\n    if (!privacyPolicyCheckbox.checked) {\n      privacyPolicyCheckbox.setCustomValidity(\n        \"Bitte akzeptiere die Datenschutzerklärung\"\n      );\n      const privacyPolicyLabel = privacyPolicyCheckbox.labels[0];\n      privacyPolicyLabel.classList.add(\"checkbox-wrapper__label--error\");\n      privacyPolicyCheckbox.reportValidity();\n      this.isValid = false;\n      return;\n    }\n    privacyPolicyCheckbox.setCustomValidity(\"\");\n  }\n\n  resetValidity() {\n    const mailInput = this.formNode[this.mailInputId];\n    mailInput.setCustomValidity(\"\");\n    this.isValid = true;\n  }\n\n  validate(event) {\n    this.resetValidity();\n    this.checkPrivacyPolicy();\n    this.checkMessage();\n    this.checkMail();\n    this.checkName();\n    if (this.isValid) {\n      return;\n    }\n    event.preventDefault();\n  }\n\n  retrieveSubject() {\n    const subjectDropdown = document.getElementById(this.subjectDropdownId);\n    // cut off \"Dein Betreff:\"\n    const subjectText = subjectDropdown.innerText.slice(13);\n    if (subjectText.length === 0) {\n      return \"kein Betreff\";\n    }\n    return subjectText;\n  }\n\n  addSubjectToForm(event) {\n    const { formData } = event;\n    formData.append(\"subject\", this.retrieveSubject());\n  }\n\n  registerEvents() {\n    this.formNode.addEventListener(\"submit\", this.validate.bind(this));\n    this.formNode.addEventListener(\n      \"formdata\",\n      this.addSubjectToForm.bind(this)\n    );\n  }\n}\n\nexport default ContactForm;\n","import Dropdown from \"./dropdown\";\nimport ContactForm from \"./contactForm\";\n\nwindow.addEventListener(\"load\", () => {\n  const dropdownButton = document.querySelector(\".dropdown__button\");\n  const dropdownListbox = document.querySelector(\".dropdown__list\");\n  if (dropdownButton && dropdownListbox) {\n    new Dropdown(dropdownButton, dropdownListbox, \"Dein Betreff:\");\n  } else {\n    console.warn(\"no dropdown found\");\n  }\n\n  const formNode = document.forms[\"contact-form\"];\n  if (formNode) {\n    new ContactForm(formNode);\n  }\n});\n"]}